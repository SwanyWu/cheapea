{"ast":null,"code":"var _jsxFileName = \"/Users/huiyaowu/cheapea/cheapea/kortings-app/src/CopyButton.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CopyButton(props) {\n  _s();\n  const offers = props.selectedOffers;\n  useEffect(() => {\n    var textareaElement = document.querySelector('.list-share textarea');\n    var boodschappenlijst = [];\n    offers.map(function (name, index) {\n      boodschappenlijst.push(\"* \" + name['shop'] + \": \" + name['product'] + \" - \" + name['deal'] + \"\");\n    });\n    textareaElement.value = boodschappenlijst.join('\\r\\n');\n  }, []);\n  const copyList = e => {\n    var copyButtonElement = document.querySelector('.bookmark-copy');\n    var copyDialogElement = document.querySelector('.copy-dialog');\n    var wrapElement = document.querySelector('.dialog-wrap');\n    var clickOutside = function (e) {\n      if (!copyDialogElement.contains(e.target) && !copyButtonElement.contains(e.target)) {\n        wrapElement.removeAttribute(\"id\");\n        if (!wrapElement.hasAttribute(\"id\")) {\n          // stop listening to clicks outside the dialog\n          return document.removeEventListener('click', clickOutside);\n        }\n      }\n    };\n    if (!wrapElement.hasAttribute(\"id\")) {\n      wrapElement.id = \"copy-dialog-on\";\n      if (wrapElement.id === \"copy-dialog-on\") {\n        // listen to clicks outside the dialog\n        document.addEventListener('click', clickOutside);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"button-cell\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: copyList,\n      className: \"button bookmark-copy\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"ri-file-copy-2-line\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-tag\",\n        children: \"kopieer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n_s(CopyButton, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = CopyButton;\nexport default CopyButton;\nvar _c;\n$RefreshReg$(_c, \"CopyButton\");","map":{"version":3,"names":["React","useEffect","CopyButton","props","offers","selectedOffers","textareaElement","document","querySelector","boodschappenlijst","map","name","index","push","value","join","copyList","e","copyButtonElement","copyDialogElement","wrapElement","clickOutside","contains","target","removeAttribute","hasAttribute","removeEventListener","id","addEventListener"],"sources":["/Users/huiyaowu/cheapea/cheapea/kortings-app/src/CopyButton.js"],"sourcesContent":["\nimport React, {useEffect} from \"react\";\n\nfunction CopyButton(props) {\n  \n  const offers = props.selectedOffers;\n\n  useEffect(() => {\n    var textareaElement = document.querySelector('.list-share textarea')\n\n    var boodschappenlijst = []\n\n    offers.map(function(name, index){\n      boodschappenlijst.push(\"* \" + name['shop'] +\": \" +name['product'] + \" - \" + name['deal'] + \"\")\n    })\n\n    textareaElement.value = boodschappenlijst.join('\\r\\n')\n  }, [])\n\n  const copyList = (e) => {\n      var copyButtonElement = document.querySelector('.bookmark-copy')\n      var copyDialogElement = document.querySelector('.copy-dialog')\n      var wrapElement = document.querySelector('.dialog-wrap')\n\n      var clickOutside = function(e) {\n        if ( !copyDialogElement.contains(e.target) && !copyButtonElement.contains(e.target)) {\n          wrapElement.removeAttribute(\"id\") \n          if(!wrapElement.hasAttribute(\"id\")) { // stop listening to clicks outside the dialog\n            return document.removeEventListener('click', clickOutside)\n          }\n        }\n      }  \n\n      if(! wrapElement.hasAttribute(\"id\")) {\n        wrapElement.id = \"copy-dialog-on\"\n        if(wrapElement.id === \"copy-dialog-on\") { // listen to clicks outside the dialog\n          document.addEventListener('click', clickOutside) \n        }   \n      }\n  }\n\n  return (\n    <div className=\"button-cell\">\n      <div onClick={copyList} className=\"button bookmark-copy\">\n        <i className=\"ri-file-copy-2-line\"></i>\n        <div className=\"button-tag\">kopieer</div>\n      </div>\n    </div>\n  )\n\n}\n\nexport default CopyButton;\n  "],"mappings":";;AACA,OAAOA,KAAK,IAAGC,SAAS,QAAO,OAAO;AAAC;AAEvC,SAASC,UAAU,CAACC,KAAK,EAAE;EAAA;EAEzB,MAAMC,MAAM,GAAGD,KAAK,CAACE,cAAc;EAEnCJ,SAAS,CAAC,MAAM;IACd,IAAIK,eAAe,GAAGC,QAAQ,CAACC,aAAa,CAAC,sBAAsB,CAAC;IAEpE,IAAIC,iBAAiB,GAAG,EAAE;IAE1BL,MAAM,CAACM,GAAG,CAAC,UAASC,IAAI,EAAEC,KAAK,EAAC;MAC9BH,iBAAiB,CAACI,IAAI,CAAC,IAAI,GAAGF,IAAI,CAAC,MAAM,CAAC,GAAE,IAAI,GAAEA,IAAI,CAAC,SAAS,CAAC,GAAG,KAAK,GAAGA,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC;IAChG,CAAC,CAAC;IAEFL,eAAe,CAACQ,KAAK,GAAGL,iBAAiB,CAACM,IAAI,CAAC,MAAM,CAAC;EACxD,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,QAAQ,GAAIC,CAAC,IAAK;IACpB,IAAIC,iBAAiB,GAAGX,QAAQ,CAACC,aAAa,CAAC,gBAAgB,CAAC;IAChE,IAAIW,iBAAiB,GAAGZ,QAAQ,CAACC,aAAa,CAAC,cAAc,CAAC;IAC9D,IAAIY,WAAW,GAAGb,QAAQ,CAACC,aAAa,CAAC,cAAc,CAAC;IAExD,IAAIa,YAAY,GAAG,UAASJ,CAAC,EAAE;MAC7B,IAAK,CAACE,iBAAiB,CAACG,QAAQ,CAACL,CAAC,CAACM,MAAM,CAAC,IAAI,CAACL,iBAAiB,CAACI,QAAQ,CAACL,CAAC,CAACM,MAAM,CAAC,EAAE;QACnFH,WAAW,CAACI,eAAe,CAAC,IAAI,CAAC;QACjC,IAAG,CAACJ,WAAW,CAACK,YAAY,CAAC,IAAI,CAAC,EAAE;UAAE;UACpC,OAAOlB,QAAQ,CAACmB,mBAAmB,CAAC,OAAO,EAAEL,YAAY,CAAC;QAC5D;MACF;IACF,CAAC;IAED,IAAG,CAAED,WAAW,CAACK,YAAY,CAAC,IAAI,CAAC,EAAE;MACnCL,WAAW,CAACO,EAAE,GAAG,gBAAgB;MACjC,IAAGP,WAAW,CAACO,EAAE,KAAK,gBAAgB,EAAE;QAAE;QACxCpB,QAAQ,CAACqB,gBAAgB,CAAC,OAAO,EAAEP,YAAY,CAAC;MAClD;IACF;EACJ,CAAC;EAED,oBACE;IAAK,SAAS,EAAC,aAAa;IAAA,uBAC1B;MAAK,OAAO,EAAEL,QAAS;MAAC,SAAS,EAAC,sBAAsB;MAAA,wBACtD;QAAG,SAAS,EAAC;MAAqB;QAAA;QAAA;QAAA;MAAA,QAAK,eACvC;QAAK,SAAS,EAAC,YAAY;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAc;IAAA;MAAA;MAAA;MAAA;IAAA;EACrC;IAAA;IAAA;IAAA;EAAA,QACF;AAGV;AAAC,GA/CQd,UAAU;AAAA,KAAVA,UAAU;AAiDnB,eAAeA,UAAU;AAAC;AAAA"},"metadata":{},"sourceType":"module"}