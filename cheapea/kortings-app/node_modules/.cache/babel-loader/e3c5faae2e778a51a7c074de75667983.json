{"ast":null,"code":"var _jsxFileName = \"/Users/huiyaowu/cheapea/cheapea/kortings-app/src/ShareButton.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ShareButton(props) {\n  var buttonText = props.buttonText;\n  var infoText = props.infoText;\n  var shareText = \"Altijd de actuele aanbiedingen van supermarkten.\";\n  if (props.customUrl === undefined) {\n    var shareUrl = window.location.href;\n  } else {\n    var shareUrl = props.customUrl;\n  }\n  var shareTitle = document.title;\n  const shareApi = e => {\n    if (navigator.share) {\n      navigator.share({\n        title: shareTitle,\n        url: shareUrl\n      }).then(() => {\n        console.log('Link gedeeld!');\n      }).catch(console.error);\n    } else {\n      var shareButtonElement = document.querySelector('.share-button');\n      var shareDialogElement = document.querySelector('.share-dialog');\n      var wrapElement = document.querySelector('.dialog-wrap');\n      var clickOutside = function (e) {\n        if (!shareDialogElement.contains(e.target) && !shareButtonElement.contains(e.target)) {\n          wrapElement.removeAttribute(\"id\");\n          if (!wrapElement.hasAttribute(\"id\")) {\n            // stop listening to clicks outside the dialog\n            return document.removeEventListener('click', clickOutside);\n          }\n        }\n      };\n      if (!wrapElement.hasAttribute(\"id\")) {\n        wrapElement.id = \"share-dialog-on\";\n        if (wrapElement.id === \"share-dialog-on\") {\n          // listen to clicks outside the dialog\n          document.addEventListener('click', clickOutside);\n        }\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"button-cell\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: shareApi,\n      className: \"button share-button\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"ri-share-box-fill\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-tag\",\n        children: buttonText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n}\n_c = ShareButton;\nexport default ShareButton;\nvar _c;\n$RefreshReg$(_c, \"ShareButton\");","map":{"version":3,"names":["React","useState","useEffect","ShareButton","props","buttonText","infoText","shareText","customUrl","undefined","shareUrl","window","location","href","shareTitle","document","title","shareApi","e","navigator","share","url","then","console","log","catch","error","shareButtonElement","querySelector","shareDialogElement","wrapElement","clickOutside","contains","target","removeAttribute","hasAttribute","removeEventListener","id","addEventListener"],"sources":["/Users/huiyaowu/cheapea/cheapea/kortings-app/src/ShareButton.js"],"sourcesContent":["import React, {useState, useEffect } from \"react\";\n\nfunction ShareButton(props) {\n\n    var buttonText = props.buttonText\n    var infoText = props.infoText\n    var shareText = \"Altijd de actuele aanbiedingen van supermarkten.\"\n    if(props.customUrl === undefined) {\n      var shareUrl = window.location.href\n    } else {\n      var shareUrl = props.customUrl\n    }\n    var shareTitle = document.title\n    \n    const shareApi = (e) => {\n        if (navigator.share) {\n          navigator.share({\n            title: shareTitle,\n            url: shareUrl\n          }).then(() => {\n            console.log('Link gedeeld!');\n          })\n          .catch(console.error);\n        } else {\n          var shareButtonElement = document.querySelector('.share-button')\n          var shareDialogElement = document.querySelector('.share-dialog')\n          var wrapElement = document.querySelector('.dialog-wrap')\n    \n          var clickOutside = function(e) {\n            if ( !shareDialogElement.contains(e.target) && !shareButtonElement.contains(e.target)) {\n              wrapElement.removeAttribute(\"id\") \n    \n              if(!wrapElement.hasAttribute(\"id\")) { // stop listening to clicks outside the dialog\n                return document.removeEventListener('click', clickOutside)\n              }\n            }\n          }  \n    \n          if(! wrapElement.hasAttribute(\"id\")) {\n            wrapElement.id = \"share-dialog-on\"\n            if(wrapElement.id === \"share-dialog-on\") { // listen to clicks outside the dialog\n              document.addEventListener('click', clickOutside) \n            }   \n          }\n        }\n    }\n\n    return (\n        <div className=\"button-cell\">\n            <div onClick={shareApi} className=\"button share-button\">\n                <i className=\"ri-share-box-fill\"></i>\n                <div className=\"button-tag\">{buttonText}</div>\n            </div>\n        </div>\n    )\n}\nexport default ShareButton;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAGC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC;AAElD,SAASC,WAAW,CAACC,KAAK,EAAE;EAExB,IAAIC,UAAU,GAAGD,KAAK,CAACC,UAAU;EACjC,IAAIC,QAAQ,GAAGF,KAAK,CAACE,QAAQ;EAC7B,IAAIC,SAAS,GAAG,kDAAkD;EAClE,IAAGH,KAAK,CAACI,SAAS,KAAKC,SAAS,EAAE;IAChC,IAAIC,QAAQ,GAAGC,MAAM,CAACC,QAAQ,CAACC,IAAI;EACrC,CAAC,MAAM;IACL,IAAIH,QAAQ,GAAGN,KAAK,CAACI,SAAS;EAChC;EACA,IAAIM,UAAU,GAAGC,QAAQ,CAACC,KAAK;EAE/B,MAAMC,QAAQ,GAAIC,CAAC,IAAK;IACpB,IAAIC,SAAS,CAACC,KAAK,EAAE;MACnBD,SAAS,CAACC,KAAK,CAAC;QACdJ,KAAK,EAAEF,UAAU;QACjBO,GAAG,EAAEX;MACP,CAAC,CAAC,CAACY,IAAI,CAAC,MAAM;QACZC,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;MAC9B,CAAC,CAAC,CACDC,KAAK,CAACF,OAAO,CAACG,KAAK,CAAC;IACvB,CAAC,MAAM;MACL,IAAIC,kBAAkB,GAAGZ,QAAQ,CAACa,aAAa,CAAC,eAAe,CAAC;MAChE,IAAIC,kBAAkB,GAAGd,QAAQ,CAACa,aAAa,CAAC,eAAe,CAAC;MAChE,IAAIE,WAAW,GAAGf,QAAQ,CAACa,aAAa,CAAC,cAAc,CAAC;MAExD,IAAIG,YAAY,GAAG,UAASb,CAAC,EAAE;QAC7B,IAAK,CAACW,kBAAkB,CAACG,QAAQ,CAACd,CAAC,CAACe,MAAM,CAAC,IAAI,CAACN,kBAAkB,CAACK,QAAQ,CAACd,CAAC,CAACe,MAAM,CAAC,EAAE;UACrFH,WAAW,CAACI,eAAe,CAAC,IAAI,CAAC;UAEjC,IAAG,CAACJ,WAAW,CAACK,YAAY,CAAC,IAAI,CAAC,EAAE;YAAE;YACpC,OAAOpB,QAAQ,CAACqB,mBAAmB,CAAC,OAAO,EAAEL,YAAY,CAAC;UAC5D;QACF;MACF,CAAC;MAED,IAAG,CAAED,WAAW,CAACK,YAAY,CAAC,IAAI,CAAC,EAAE;QACnCL,WAAW,CAACO,EAAE,GAAG,iBAAiB;QAClC,IAAGP,WAAW,CAACO,EAAE,KAAK,iBAAiB,EAAE;UAAE;UACzCtB,QAAQ,CAACuB,gBAAgB,CAAC,OAAO,EAAEP,YAAY,CAAC;QAClD;MACF;IACF;EACJ,CAAC;EAED,oBACI;IAAK,SAAS,EAAC,aAAa;IAAA,uBACxB;MAAK,OAAO,EAAEd,QAAS;MAAC,SAAS,EAAC,qBAAqB;MAAA,wBACnD;QAAG,SAAS,EAAC;MAAmB;QAAA;QAAA;QAAA;MAAA,QAAK,eACrC;QAAK,SAAS,EAAC,YAAY;QAAA,UAAEZ;MAAU;QAAA;QAAA;QAAA;MAAA,QAAO;IAAA;MAAA;MAAA;MAAA;IAAA;EAC5C;IAAA;IAAA;IAAA;EAAA,QACJ;AAEd;AAAC,KArDQF,WAAW;AAsDpB,eAAeA,WAAW;AAAC;AAAA"},"metadata":{},"sourceType":"module"}